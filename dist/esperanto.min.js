!function(e,n){"use strict";"function"==typeof define&&define.amd?define(["acorn"],n):"undefined"!=typeof module&&module.exports?module.exports=n(require("acorn")):e.esperanto=n(e.acorn)}("undefined"!=typeof window?window:this,function(e){"use strict";var n,t,r,a,o,i;return n=function(e){function n(e){return"ImportDeclaration"===e.type}function t(e){return"ExportDeclaration"===e.type}function r(e){return"VariableDeclaration"===e.type?e.declarations[0].id.name:"FunctionDeclaration"===e.type?e.id.name:void 0}function a(e,n){var t,r="";for(e-=1;(t=n.charAt(e))&&/[ \t]/.test(t);)r=t+r,e-=1;return"\n"===t?r:""}var o;return o=function(o,i,u){function l(e,t){return n(e)?f(e,t):s(e,t)}function f(e){var n,t,r,u=[];if(t=a(e.start,o),r=e.specifiers[0],!r)return O.push({path:e.source.value,name:"__imports_"+O.length,empty:!0}),g;if(r&&"ImportBatchSpecifier"===r.type)return O.push({path:e.source.value,name:r.name.name}),g;if(i.defaultOnly&&1===e.specifiers.length){if("default"!==e.kind)throw new Error("A named import was used in defaultOnly mode");return O.push({path:e.source.value,name:e.specifiers[0].id.name}),g}return n={path:e.source.value,name:"__imports_"+O.length},O.push(n),e.specifiers.forEach(function(e){var t,r,a;if(i.defaultOnly&&!e.default)throw new Error("A named import was used in defaultOnly mode");r=e.id.name,i.defaultOnly?t="var "+r+" = "+n.name:(a=e.name&&e.name.name||r,t="var "+a+" = "+n.name+"."+(e.default?"default":r)),u.push(t)}),u.join(";\n"+t)}function s(e,n){var t,l,f,s=[],d="";if(h=!0,t=a(e.start,o),e.declaration){if(f=o.slice(e.declaration.start,e.declaration.end),l=r(e.declaration)){if(i.defaultOnly)throw new Error("A named export was used in defaultOnly mode");d=f+"\n"+t,d+="exports."+l+" = "+l}else i.defaultOnly?n===p.length-1?(d+=(u?"return ":"module.exports = ")+f,y=!0):d+="__export = "+f:d+="exports.default = "+f;s.push(d+";")}else{if(i.defaultOnly)throw new Error("A named export was used in defaultOnly mode");e.specifiers.forEach(function(e){var n=e.id.name;s.push("exports."+n+" = "+n)})}return s.join(";\n"+t)}var d,p,c,m,h,y,v,x,w,O=[],_="",g={};for(o=o.trim(),d=e.parse(o,{ecmaVersion:6,locations:!0}),p=d.body,_=o.slice(0,p[0]?p[0].start:0),x=p.length,v=0;x>v;v+=1)if(c=p[v],m=p[v+1],n(c)||t(c))if(w=l(c,v),w===g)for(;m&&"EmptyStatement"===m.type;)m=p[v++];else _+=w+o.slice(c.end,m?m.start:o.length);else _+=o.slice(c.start,m?m.start:o.length);return{imports:O,hasExports:h,body:_,alreadyReturned:y}}}(e),t=function(e){var n,t,r,a;return n=e.split("\n"),t=n.filter(function(e){return/^\t+/.test(e)}),r=n.filter(function(e){return/^ +/.test(e)}),t.length>=r.length?"	":(a=r.reduce(function(e,n){var t=/^ +/.exec(n)[0].length;return Math.min(t,e)},1/0),new Array(a+1).join(" "))},r=function(e,n){return e.split("\n").map(function(e){return n+e}).join("\n")},a=function(){function e(e){return"'"+e+"'"}function n(e){return e.path}function a(e){return e.name}var o;return o=function(o,i){var u,l,f,s=t,d=r,p="",c=o.imports,m=o.hasExports,h="",y="";if(c.length||m&&!i.defaultOnly){for(h="["+(i.defaultOnly||!m?c.map(n):["exports"].concat(c.map(n))).map(e).join(",")+"],";c.length&&c[c.length-1].empty;)c.pop();y=(i.defaultOnly||!m?c.map(a):["exports"].concat(c.map(a))).join(", ")}return u="define("+h+"function ("+y+") {",i.addUseStrict!==!1&&(p="'use strict';\n\n"),i.defaultOnly&&!o.alreadyReturned&&m&&(p+="var __export;\n\n"),p+=o.body,i.defaultOnly&&!o.alreadyReturned&&m&&(p+="\nreturn __export;"),l="});",f=i.indent||s(o.body),[u,d(p.trim(),f),l].join("\n\n")}}(),o=function(e,n){var t=[],r=e.body.trim(),a=e.imports,o=e.hasExports;return a.length&&(t[0]=a.map(function(e){return(e.empty?"":"var "+e.name+" = ")+"require('"+e.path+"');"}).join("\n")+"\n"),n.defaultOnly&&!e.alreadyReturned&&o&&(r="var __export;\n\n"+r),t.push(r),n.defaultOnly&&!e.alreadyReturned&&o&&t.push("module.exports = __export;"),t.join("\n").trim()},i=function(e,n,t){return{toAmd:function(t,r){r=r||{};var a=e(t,r,!0);return n(a,r)},toCjs:function(n,r){r=r||{};var a=e(n,r);return t(a,r)}}}(n,a,o)});