!function(n,e){"use strict";"function"==typeof define&&define.amd?define(["acorn"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("acorn")):n.esperanto=e(n.acorn)}("undefined"!=typeof window?window:this,function(n){"use strict";var e,t,r,a,o,i;return e=function(n){function e(n){return"ImportDeclaration"===n.type}function t(n){return"ExportDeclaration"===n.type}function r(n,e){var t,r="";for(n-=1;(t=e.charAt(n))&&/[ \t]/.test(t);)r=t+r,n-=1;return"\n"===t?r:""}var a;return a=function(a,o,i){function u(n,t){return e(n)?f(n,t):l(n,t)}function f(n){var e,t,i=[];if(t=r(n.start,a),"ImportBatchSpecifier"===n.specifiers[0].type)return O.push({path:n.source.value,name:n.specifiers[0].name.name}),w;if(o.defaultOnly){if("default"!==n.kind)throw new Error("A named import was used in defaultOnly mode");return O.push({path:n.source.value,name:n.specifiers[0].id.name}),w}return e={path:n.source.value,name:"__imports_"+O.length},O.push(e),n.specifiers.forEach(function(t){var r,a,u;a=t.id.name,o.defaultOnly?r="var "+a+" = "+e.name:(u=t.name&&t.name.name||a,r="var "+u+" = "+e.name+"."+("default"===n.kind?"default":a)),i.push(r)}),i.join(";\n"+t)}function l(n,e){var t,u,f=[],l="";if(m=!0,t=r(n.start,a),n.declaration)u=a.slice(n.declaration.start,n.declaration.end),"VariableDeclaration"===n.declaration.type&&(l=u+"\n"+t,u=n.declaration.declarations[0].id.name),o.defaultOnly?e===d.length-1?(l+=(i?"return ":"module.exports = ")+u,h=!0):l+="__export = "+u:l+="exports.default = "+u,f.push(l+";");else{if(o.defaultOnly)throw new Error("A named export was used in defaultOnly mode");n.specifiers.forEach(function(n){var e=n.id.name;f.push("exports."+e+" = "+e)})}return f.join(";\n"+t)}var s,d,c,p,m,h,y,v,x,O=[],_="",w={};for(a=a.trim(),s=n.parse(a,{ecmaVersion:6,locations:!0}),d=s.body,_="",v=d.length,y=0;v>y;y+=1)if(c=d[y],p=d[y+1],e(c)||t(c))if(x=u(c,y),x===w)for(;p&&"EmptyStatement"===p.type;)p=d[y++];else _+=x+a.slice(c.end,p?p.start:a.length);else _+=a.slice(c.start,p?p.start:a.length);return{imports:O,hasExports:m,body:_,alreadyReturned:h}}}(n),t=function(n){var e,t,r,a;return e=n.split("\n"),t=e.filter(function(n){return/^\t+/.test(n)}),r=e.filter(function(n){return/^ +/.test(n)}),t.length>=r.length?"	":(a=r.reduce(function(n,e){var t=/^ +/.exec(e)[0].length;return Math.min(t,n)},1/0),new Array(a+1).join(" "))},r=function(n,e){return n.split("\n").map(function(n){return e+n}).join("\n")},a=function(){function n(n){return"'"+n+"'"}function e(n){return n.path}function a(n){return n.name}var o;return o=function(o,i){var u,f,l,s=t,d=r,c="",p=o.imports,m=o.hasExports,h="",y="";return(p.length||m&&!i.defaultOnly)&&(h="["+(i.defaultOnly?p.map(e):p.map(e).concat("exports")).map(n).join(",")+"],",y=(i.defaultOnly?p.map(a):p.map(a).concat("exports")).join(", ")),u="define("+h+"function ("+y+") {",i.addUseStrict!==!1&&(c="'use strict';\n\n"),i.defaultOnly&&!o.alreadyReturned&&m&&(c+="var __export;\n\n"),c+=o.body,i.defaultOnly&&!o.alreadyReturned&&m&&(c+="\nreturn __export;"),f="});",l=i.indent||s(o.body),[u,d(c.trim(),l),f].join("\n\n")}}(),o=function(n,e){var t=[],r=n.body.trim(),a=n.imports,o=n.hasExports;return a.length&&(t[0]=a.map(function(n){return"var "+n.name+" = require('"+n.path+"');"}).join("\n")),e.defaultOnly&&!n.alreadyReturned&&o&&(r="var __export;\n\n"+r),t.push(r),e.defaultOnly&&!n.alreadyReturned&&o&&t.push("module.exports = __export;"),t.join("\n")},i=function(n,e,t){return{toAmd:function(t,r){r=r||{};var a=n(t,r,!0);return e(a,r)},toCjs:function(e,r){r=r||{};var a=n(e,r);return t(a,r)}}}(e,a,o)});