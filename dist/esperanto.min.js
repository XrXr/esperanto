!function(n,t){"use strict";"function"==typeof define&&define.amd?define(["acorn"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("acorn")):n.esperanto=t(n.acorn)}("undefined"!=typeof window?window:this,function(n){"use strict";var t,e,r,o,a,u;return t=function(n){function t(n){return"ImportDeclaration"===n.type}function e(n){return"ExportDeclaration"===n.type}function r(n,t){var e,r="";for(n-=1;(e=t.charAt(n))&&/[ \t]/.test(e);)r=e+r,n-=1;return"\n"===e?r:""}function o(n){var t,e;return t=/\s+$/.exec(n),e=t?t[0]:"",e&&(n=n.slice(0,-e.length)),";"!==n.slice(-1)&&(n+=";"),n+e}var a;return a=function(a,u,i){function s(n,e){return t(n)?f(n,e):l(n,e)}function f(n){var t,e,o=[];if(e=r(n.start,a),u.defaultOnly){if("default"!==n.kind)throw new Error("A named import was used in defaultOnly mode");return _.push({path:n.source.value,name:n.specifiers[0].id.name}),w}return t={path:n.source.value,name:"__imports_"+_.length},_.push(t),n.specifiers.forEach(function(e){var r,a=e.id.name;r="var "+a+" = "+t.name,u.defaultOnly||(r+="."+("default"===n.kind?"default":a)),o.push(r)}),o.join(";\n"+e)}function l(n,t){var e,s,f,l=[];if(h=!0,e=r(n.start,a),n.declaration)f=a.slice(n.declaration.start,n.declaration.end),u.defaultOnly?t===c.length-1?(s=(i?"return ":"module.exports = ")+f,y=!0):s="__export = "+f:s="exports.default = "+f,"FunctionExpression"===n.declaration.type&&(s=o(s)),l.push(s);else{if(u.defaultOnly)throw new Error("A named export was used in defaultOnly mode");n.specifiers.forEach(function(n){var t=n.id.name;l.push("exports."+t+" = "+t)})}return l.join(";\n"+e)}var d,c,p,m,h,y,v,x,g,_=[],O="",w={};for(a=a.trim(),d=n.parse(a,{ecmaVersion:6,locations:!0}),c=d.body,O="",x=c.length,v=0;x>v;v+=1)if(p=c[v],m=c[v+1],t(p)||e(p))if(g=s(p,v),g===w)for(;m&&"EmptyStatement"===m.type;)m=c[v++];else O+=g+a.slice(p.end,m?m.start:a.length);else O+=a.slice(p.start,m?m.start:a.length);return{imports:_,hasExports:h,body:O,alreadyReturned:y}}}(n),e=function(n){var t,e,r,o;return t=n.split("\n"),e=t.filter(function(n){return/^\t+/.test(n)}),r=t.filter(function(n){return/^ +/.test(n)}),e.length>=r.length?"	":(o=r.reduce(function(n,t){var e=/^ +/.exec(t)[0].length;return Math.min(e,n)},1/0),new Array(o+1).join(" "))},r=function(n,t){return n.split("\n").map(function(n){return t+n}).join("\n")},o=function(){function n(n){return"'"+n+"'"}function t(n){return n.path}function o(n){return n.name}var a;return a=function(a,u){var i,s,f,l=e,d=r,c="",p=a.imports,m=a.hasExports,h="",y="";return p.length&&(h="["+(u.defaultOnly?p.map(t):p.map(t).concat("exports")).map(n).join(",")+"],",y=(u.defaultOnly?p.map(o):p.map(o).concat("exports")).join(", ")),i="define("+h+"function ("+y+") {",u.addUseStrict!==!1&&(console.log("adding use strict"),c="\n\n"),u.defaultOnly&&!a.alreadyReturned&&m&&(c+="var __export;\n\n"),c+=a.body,u.defaultOnly&&!a.alreadyReturned&&m&&(c+="\nreturn __export;"),s="});",f=u.indent||l(a.body),[i,d(c.trim(),f),s].join("\n\n")}}(),a=function(n,t){var e=[],r=n.body.trim(),o=n.imports,a=n.hasExports;return o.length&&(e[0]=o.map(function(n){return"var "+n.name+" = require('"+n.path+"');"}).join("\n")),t.defaultOnly&&!n.alreadyReturned&&a&&(r="var __export;\n\n"+r),e.push(r),t.defaultOnly&&!n.alreadyReturned&&a&&e.push("module.exports = __export;"),e.join("\n")},u=function(n,t,e){return{toAmd:function(e,r){r=r||{};var o=n(e,r,!0);return t(o,r)},toCjs:function(t,r){r=r||{};var o=n(t,r);return e(o,r)}}}(t,o,a)});